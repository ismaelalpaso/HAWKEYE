{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ismaa\\\\Desktop\\\\HAWKEYE_SOFTWARE\\\\hawkeye_backend\\\\frontend\\\\src\\\\components\\\\SessionExpiredModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { login as loginApi } from \"./api/auth\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SessionExpiredModal() {\n  _s();\n  const [open, setOpen] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [err, setErr] = useState(null);\n  const {\n    login\n  } = useContext(AuthContext);\n  useEffect(() => {\n    const onExpire = () => setOpen(true);\n    window.addEventListener(\"session-expired\", onExpire);\n    return () => window.removeEventListener(\"session-expired\", onExpire);\n  }, []);\n  if (!open) return null;\n  async function handleRelogin(e) {\n    e.preventDefault();\n    setErr(null);\n    try {\n      const data = await loginApi(username, password);\n      login(data);\n      setOpen(false);\n    } catch (e) {\n      setErr(\"Credenciales inválidas\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-[1000] bg-black/30 flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleRelogin,\n      className: \"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-lg w-[360px] animate-fadein\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-100\",\n        children: \"Sesi\\xF3n expirada\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 dark:text-gray-300 mb-4\",\n        children: \"Vuelve a iniciar sesi\\xF3n para continuar.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"w-full border border-gray-300 dark:border-neutral-600 dark:bg-neutral-800 dark:text-gray-100 p-2 rounded mb-3\",\n        placeholder: \"Usuario\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"w-full border border-gray-300 dark:border-neutral-600 dark:bg-neutral-800 dark:text-gray-100 p-2 rounded mb-4\",\n        placeholder: \"Contrase\\xF1a\",\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 justify-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setOpen(false),\n          className: \"px-3 py-2 rounded border text-gray-700 dark:text-gray-200 dark:border-neutral-600\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"px-3 py-2 rounded bg-blue-600 text-white\",\n          children: \"Re-entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600 text-sm mt-3\",\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(SessionExpiredModal, \"nkaQDcdtS5ENpR8po8H1mGUXrts=\");\n_c = SessionExpiredModal;\nvar _c;\n$RefreshReg$(_c, \"SessionExpiredModal\");","map":{"version":3,"names":["React","useEffect","useState","useContext","login","loginApi","AuthContext","jsxDEV","_jsxDEV","SessionExpiredModal","_s","open","setOpen","username","setUsername","password","setPassword","err","setErr","onExpire","window","addEventListener","removeEventListener","handleRelogin","e","preventDefault","data","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","required","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ismaa/Desktop/HAWKEYE_SOFTWARE/hawkeye_backend/frontend/src/components/SessionExpiredModal.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { login as loginApi } from \"./api/auth\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nexport default function SessionExpiredModal() {\r\n  const [open, setOpen] = useState(false);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [err, setErr] = useState(null);\r\n  const { login } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    const onExpire = () => setOpen(true);\r\n    window.addEventListener(\"session-expired\", onExpire);\r\n    return () => window.removeEventListener(\"session-expired\", onExpire);\r\n  }, []);\r\n\r\n  if (!open) return null;\r\n\r\n  async function handleRelogin(e) {\r\n    e.preventDefault();\r\n    setErr(null);\r\n    try {\r\n      const data = await loginApi(username, password);\r\n      login(data);\r\n      setOpen(false);\r\n    } catch (e) {\r\n      setErr(\"Credenciales inválidas\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[1000] bg-black/30 flex items-center justify-center\">\r\n      <form\r\n        onSubmit={handleRelogin}\r\n        className=\"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-lg w-[360px] animate-fadein\"\r\n      >\r\n        <h3 className=\"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-100\">\r\n          Sesión expirada\r\n        </h3>\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-300 mb-4\">\r\n          Vuelve a iniciar sesión para continuar.\r\n        </p>\r\n\r\n        <input\r\n          className=\"w-full border border-gray-300 dark:border-neutral-600 dark:bg-neutral-800 dark:text-gray-100 p-2 rounded mb-3\"\r\n          placeholder=\"Usuario\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          className=\"w-full border border-gray-300 dark:border-neutral-600 dark:bg-neutral-800 dark:text-gray-100 p-2 rounded mb-4\"\r\n          placeholder=\"Contraseña\"\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n        />\r\n\r\n        <div className=\"flex gap-2 justify-end\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setOpen(false)}\r\n            className=\"px-3 py-2 rounded border text-gray-700 dark:text-gray-200 dark:border-neutral-600\"\r\n          >\r\n            Cancelar\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"px-3 py-2 rounded bg-blue-600 text-white\"\r\n          >\r\n            Re-entrar\r\n          </button>\r\n        </div>\r\n\r\n        {err && <p className=\"text-red-600 text-sm mt-3\">{err}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}