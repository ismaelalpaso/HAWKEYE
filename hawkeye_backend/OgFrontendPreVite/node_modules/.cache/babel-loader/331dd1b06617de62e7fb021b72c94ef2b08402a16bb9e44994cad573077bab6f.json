{"ast":null,"code":"export const startHour = 6;\nexport const endHour = 24;\nexport const intervalMinutes = 15;\nexport const days = [\"Lunes\", \"Martes\", \"Miércoles\", \"Jueves\", \"Viernes\", \"Sábado\", \"Domingo\"];\n\n/**\r\n * Dada una selección de día y filas, retorna:\r\n * {\r\n *   fecha: \"YYYY-MM-DD\",\r\n *   horaInicio: \"HH:MM\",\r\n *   horaFin: \"HH:MM\"\r\n * }\r\n */\nexport function getDateFromSelection(selection) {\n  const today = new Date();\n  let fechaObj;\n  if (selection.day === \"Hoy\") {\n    fechaObj = new Date(today);\n  } else {\n    const todayDay = (today.getDay() + 6) % 7; // Lunes = 0\n    const targetDayIndex = days.indexOf(selection.day);\n    let diffDays = targetDayIndex - todayDay;\n    fechaObj = new Date(today);\n    fechaObj.setHours(0, 0, 0, 0);\n    fechaObj.setDate(today.getDate() + diffDays);\n  }\n  const fecha = fechaObj.toISOString().slice(0, 10);\n  const horaInicio = calcularHoraDesdeFila(selection.start);\n  const horaFin = calcularHoraDesdeFila(selection.end + 1); // fila siguiente al último\n\n  return {\n    fecha,\n    horaInicio,\n    horaFin\n  };\n}\n\n/**\r\n * Dado el índice de fila, devuelve \"HH:MM\"\r\n */\nfunction calcularHoraDesdeFila(rowIndex) {\n  const totalMinutes = startHour * 60 + rowIndex * intervalMinutes;\n  const horas = Math.floor(totalMinutes / 60).toString().padStart(2, \"0\");\n  const minutos = (totalMinutes % 60).toString().padStart(2, \"0\");\n  return `${horas}:${minutos}`;\n}\n\n/**\r\n * Retorna el estilo (top, left, height) para posicionar la actividad en vista semanal/diaria\r\n */\nexport function getStyleForActividad(actividad) {\n  const start = new Date(actividad.fecha_inicio);\n  const end = new Date(actividad.fecha_fin);\n  const col = (start.getDay() + 6) % 7; // Lunes = 0\n  const minutesSinceStart = (start.getHours() - startHour) * 60 + start.getMinutes();\n  const top = minutesSinceStart / intervalMinutes * 20 + 64;\n  const height = (end - start) / 1000 / 60 / intervalMinutes * 20;\n  return {\n    top,\n    left: col * 160 + 160,\n    height\n  };\n}","map":{"version":3,"names":["startHour","endHour","intervalMinutes","days","getDateFromSelection","selection","today","Date","fechaObj","day","todayDay","getDay","targetDayIndex","indexOf","diffDays","setHours","setDate","getDate","fecha","toISOString","slice","horaInicio","calcularHoraDesdeFila","start","horaFin","end","rowIndex","totalMinutes","horas","Math","floor","toString","padStart","minutos","getStyleForActividad","actividad","fecha_inicio","fecha_fin","col","minutesSinceStart","getHours","getMinutes","top","height","left"],"sources":["C:/Users/ismaa/Desktop/HAWKEYE_SOFTWARE/hawkeye_backend/frontend/src/components/calendarUtils.js"],"sourcesContent":["export const startHour = 6;\r\nexport const endHour = 24;\r\nexport const intervalMinutes = 15;\r\n\r\nexport const days = [\r\n  \"Lunes\",\r\n  \"Martes\",\r\n  \"Miércoles\",\r\n  \"Jueves\",\r\n  \"Viernes\",\r\n  \"Sábado\",\r\n  \"Domingo\",\r\n];\r\n\r\n/**\r\n * Dada una selección de día y filas, retorna:\r\n * {\r\n *   fecha: \"YYYY-MM-DD\",\r\n *   horaInicio: \"HH:MM\",\r\n *   horaFin: \"HH:MM\"\r\n * }\r\n */\r\nexport function getDateFromSelection(selection) {\r\n  const today = new Date();\r\n  let fechaObj;\r\n\r\n  if (selection.day === \"Hoy\") {\r\n    fechaObj = new Date(today);\r\n  } else {\r\n    const todayDay = (today.getDay() + 6) % 7; // Lunes = 0\r\n    const targetDayIndex = days.indexOf(selection.day);\r\n    let diffDays = targetDayIndex - todayDay;\r\n    fechaObj = new Date(today);\r\n    fechaObj.setHours(0, 0, 0, 0);\r\n    fechaObj.setDate(today.getDate() + diffDays);\r\n  }\r\n\r\n  const fecha = fechaObj.toISOString().slice(0, 10);\r\n  const horaInicio = calcularHoraDesdeFila(selection.start);\r\n  const horaFin = calcularHoraDesdeFila(selection.end + 1); // fila siguiente al último\r\n\r\n  return { fecha, horaInicio, horaFin };\r\n}\r\n\r\n/**\r\n * Dado el índice de fila, devuelve \"HH:MM\"\r\n */\r\nfunction calcularHoraDesdeFila(rowIndex) {\r\n  const totalMinutes = startHour * 60 + rowIndex * intervalMinutes;\r\n  const horas = Math.floor(totalMinutes / 60)\r\n    .toString()\r\n    .padStart(2, \"0\");\r\n  const minutos = (totalMinutes % 60).toString().padStart(2, \"0\");\r\n  return `${horas}:${minutos}`;\r\n}\r\n\r\n/**\r\n * Retorna el estilo (top, left, height) para posicionar la actividad en vista semanal/diaria\r\n */\r\nexport function getStyleForActividad(actividad) {\r\n  const start = new Date(actividad.fecha_inicio);\r\n  const end = new Date(actividad.fecha_fin);\r\n  const col = (start.getDay() + 6) % 7; // Lunes = 0\r\n  const minutesSinceStart = (start.getHours() - startHour) * 60 + start.getMinutes();\r\n  const top = (minutesSinceStart / intervalMinutes) * 20 + 64;\r\n  const height = ((end - start) / 1000 / 60 / intervalMinutes) * 20;\r\n\r\n  return {\r\n    top,\r\n    left: col * 160 + 160,\r\n    height,\r\n  };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}